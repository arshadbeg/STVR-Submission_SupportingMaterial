/* Generated by Frama-C */
void pathcrawler_trace_full(char *format, char *comm , ...);

extern int pathcrawler_assert_exception(char *file, int line);

void __FC_assert(int c, char *file, int line, char const *cond)
{
  pathcrawler_assert_exception(file,line);
  return;
}

/*@ requires arr ≢ \null;
    requires 1 ≤ n ≤ 3;
    ensures
      ∀ ℤ i, ℤ j;
        0 ≤ i < j < \old(n) ⇒ *(\old(arr) + i) ≤ *(\old(arr) + j);
    assigns *(arr + (0 .. n - 1));
 */
void quicksort(int arr[3], int n)
{
  int __tmp_lin_1;
  int __tmp_lin_0;
  int stack[3 * 2];
  if (arr == (int *)0) {
    pathcrawler_trace_full("+582","l.11, file quicksort.c");
    goto lin_ite_body_2;
  }
  else {
    pathcrawler_trace_full("-582","l.11, file quicksort.c");
    if (n <= 0) {
      pathcrawler_trace_full("+587","l.11, file quicksort.c");
      goto lin_ite_body_2;
    }
    else {
      pathcrawler_trace_full("-587","l.11, file quicksort.c");
      if (n > 3) {
        pathcrawler_trace_full("+590","l.11, file quicksort.c");
        lin_ite_body_2: goto return_label;
      }
      else pathcrawler_trace_full("-590","l.11, file quicksort.c");
    }
  }
  int top = -1;
  int low = 0;
  int high = n - 1;
  top ++;
  stack[top] = low;
  top ++;
  stack[top] = high;
  while (1) {
    if (top >= 1) {
      pathcrawler_trace_full("+604","l.23, file quicksort.c");
      goto lin_while_body_12;
    }
    else {
      pathcrawler_trace_full("-604","l.23, file quicksort.c");
      goto lin_while_break_11;
    }
    lin_while_body_12:
    {
      __tmp_lin_0 = top;
      top --;
      high = stack[__tmp_lin_0];
      __tmp_lin_1 = top;
      top --;
      low = stack[__tmp_lin_1];
      if (low < 0) {
        pathcrawler_trace_full("+615","l.28, file quicksort.c");
        goto lin_ite_body_17;
      }
      else {
        pathcrawler_trace_full("-615","l.28, file quicksort.c");
        if (high >= n) {
          pathcrawler_trace_full("+620","l.28, file quicksort.c");
          goto lin_ite_body_17;
        }
        else {
          pathcrawler_trace_full("-620","l.28, file quicksort.c");
          if (low >= high) {
            pathcrawler_trace_full("+623","l.28, file quicksort.c");
            lin_ite_body_17: continue;
          }
          else pathcrawler_trace_full("-623","l.28, file quicksort.c");
        }
      }
      int pivot = *(arr + high);
      int i = low - 1;
      int j = low;
      while (1) {
        if (j < high) {
          pathcrawler_trace_full("+633","l.35, file quicksort.c");
          if (j < n) {
            pathcrawler_trace_full("+637","l.35, file quicksort.c");
            goto lin_for_body_27;
          }
          else {
            pathcrawler_trace_full("-637","l.35, file quicksort.c");
            goto lin_for_break_26;
          }
        }
        else {
          pathcrawler_trace_full("-633","l.35, file quicksort.c");
          goto lin_for_break_26;
        }
        lin_for_body_27:
        {
          if (j < 0) {
            pathcrawler_trace_full("+643","l.36, file quicksort.c");
            goto lin_ite_body_36;
          }
          else {
            pathcrawler_trace_full("-643","l.36, file quicksort.c");
            if (j >= n) {
              pathcrawler_trace_full("+648","l.36, file quicksort.c");
              lin_ite_body_36: break;
            }
            else pathcrawler_trace_full("-648","l.36, file quicksort.c");
          }
          if (*(arr + j) <= pivot) {
            pathcrawler_trace_full("+653","l.38, file quicksort.c");
            lin_ite_body_50:
            {
              i ++;
              if (i >= 0) {
                pathcrawler_trace_full("+658","l.40, file quicksort.c");
                if (i < n) {
                  pathcrawler_trace_full("+662","l.40, file quicksort.c");
                  lin_ite_body_43:
                  {
                    int tmp = *(arr + i);
                    *(arr + i) = *(arr + j);
                    *(arr + j) = tmp;
                  }
                }
                else pathcrawler_trace_full("-662","l.40, file quicksort.c");
              }
              else pathcrawler_trace_full("-658","l.40, file quicksort.c");
            }
          }
          else {
            pathcrawler_trace_full("-653","l.38, file quicksort.c");
            lin_ite_body_51: ;
          }
        }
        lin_for_action_28: j ++;
      }
      lin_for_break_26: ;
      int pi = i + 1;
      if (pi >= 0) {
        pathcrawler_trace_full("+672","l.49, file quicksort.c");
        if (pi < n) {
          pathcrawler_trace_full("+676","l.49, file quicksort.c");
          lin_ite_body_55:
          {
            int tmp_0 = *(arr + pi);
            *(arr + pi) = *(arr + high);
            *(arr + high) = tmp_0;
          }
        }
        else pathcrawler_trace_full("-676","l.49, file quicksort.c");
      }
      else pathcrawler_trace_full("-672","l.49, file quicksort.c");
      if (pi - 1 > low) {
        pathcrawler_trace_full("+682","l.56, file quicksort.c");
        if (top + 2 < 3 * 2) {
          pathcrawler_trace_full("+686","l.56, file quicksort.c");
          lin_ite_body_62:
          {
            top ++;
            stack[top] = low;
            top ++;
            stack[top] = pi - 1;
          }
        }
        else pathcrawler_trace_full("-686","l.56, file quicksort.c");
      }
      else pathcrawler_trace_full("-682","l.56, file quicksort.c");
      if (pi + 1 < high) {
        pathcrawler_trace_full("+693","l.62, file quicksort.c");
        if (top + 2 < 3 * 2) {
          pathcrawler_trace_full("+697","l.62, file quicksort.c");
          lin_ite_body_69:
          {
            top ++;
            stack[top] = pi + 1;
            top ++;
            stack[top] = high;
          }
        }
        else pathcrawler_trace_full("-697","l.62, file quicksort.c");
      }
      else pathcrawler_trace_full("-693","l.62, file quicksort.c");
    }
  }
  lin_while_break_11: ;
  return_label: return;
}

int main(void)
{
  int __retres;
  int arr[3];
  int i = 0;
  while (1) {
    if (i < 3) {
      pathcrawler_trace_full("+711","l.72, file quicksort.c");
      goto lin_for_body_76;
    }
    else {
      pathcrawler_trace_full("-711","l.72, file quicksort.c");
      goto lin_for_break_75;
    }
    lin_for_body_76: arr[i] = i;
    lin_for_action_77: i ++;
  }
  lin_for_break_75: ;
  int n = 3;
  quicksort(arr,n);
  __retres = 0;
  return __retres;
}


